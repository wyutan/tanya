## 配置文件服务器
并在文件服务器工作目录下创建文件`lswnet.cfg`
文件内容如下：
```
esn=xxxx;vrpfile=s57li_easy_V200R022C00.cc;vrpver=V200R022C00SPC100;patchfile=s57li_easy_V200R022C00.pat;cfgfile=s57li_easy_V200R022C00.cfg;
```
## 配置DHCP
```
ip pool easy-operation
 gateway-list x.x.x.
 network x.x.x.0 mask 255.255.255.0
 option 66 ascii sftp://tftpuser:password@192.168.4.6:10020
 option 146 ascii netfile=lswnet.cfg;
```
## 交换机接入口
```
interface GigabitEthernet0/0/2
 port link-type hybrid
 port hybrid pvid vlan 10
 port hybrid untagged vlan 10
```
## 自动更新lswnet.cfg
配置文件名格式为`esn_ip.cfg`
```sh
#!/bin/bash

# 源文件所在目录
source_dir="/home/config/S57"

# 目标文件 lswnet.cfg
target_file="/home/config/lswnet.cfg"

# 遍历源目录下所有的 *_*.cfg 文件
for file in "$source_dir"/*_*.cfg; do
  # 提取文件名中的前缀（xxxx）和 IP 地址（10.1.1.1）
  base_name=$(basename "$file" .cfg)
  name_prefix=$(echo "$base_name" | sed -E 's/([a-zA-Z0-9]+)_([0-9]+\.[0-9]+\.[0-9]+\.[0-9]+)$/\1/')
  ip_address=$(echo "$base_name" | sed -E 's/^[^_]+_([0-9]+\.[0-9]+\.[0-9]+\.[0-9]+)$/\1/')

  # 生成新的行内容
  new_line="esn=$name_prefix;cfgfile=S57/$ip_address.cfg"

  # 将新行追加到 lswnet.cfg
  echo "$new_line" > "$target_file"
done

