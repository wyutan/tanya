<template>
  <div class="container">
    <canvas ref="canvasRef"></canvas>

    <div class="about-me">
      <div class="top-disclaimer">
        <span class="icon">âš ï¸</span>
        å£°æ˜ï¼šå¦‚è¯¥ç½‘ç«™å†…å®¹æ¶‰åŠä¾µæƒè¯·è”ç³»åˆ é™¤
      </div>
      
      <div class="about-me-3-2-row">
        <AboutMe/>
        <AboutMeText>
          <template #motto>
            <slot name="motto">
              <p class="about-me-card-title-normal">ğ“‚ğ‘œğ“‰ğ“‰ğ‘œ</p>
              <p class="about-me-card-text-big about-me-card-text-color">æ˜¯æ˜Ÿè¾°ï¼Œæ˜¯é›¨é›¾<br>æ˜¯é—ªç”µï¼Œæ˜¯ä¸ç¾çš„çµé­‚</p>
              <div class="video-wrapper">
                <iframe 
                src="https://www.youtube.com/embed/B5unCXpegAw?start=60" 
                title="YouTube video player" 
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                allowfullscreen
                class="youtube-iframe"
                >
                </iframe>
              </div>
            </slot>
          </template>
        </AboutMeText>
      </div>

      <div class="about-me-3-2-row">
        <div class="marquee-card">
          <div class="marquee-inner">
             <AboutMeSkill/>
          </div>
        </div>
        <div class="marquee-card">
          <div class="marquee-inner">
             <AboutMeLife/>
          </div>
        </div>
      </div>

      <div class="about-me-1-1-row">
        <AboutMeText>
          <template #motto>
            <slot name="motto">
              <p class="about-me-card-title-normal">ğ“ˆğ“ğ‘œğ‘”ğ’¶ğ“ƒ</p>
              <p class="about-me-card-text-big about-me-card-text-soft">ä¸“ä¸šæ˜¯<span style="color: #3a5ccc">é”š</span>ï¼Œå…´è¶£æ˜¯<span style="color: #3a5ccc">å¸†</span>
              </p>
              <p class="about-me-card-text-big">æ¢ç´¢çš„æ—…ç¨‹<span style="color: #d53737">æ°¸æ— æ­¢å¢ƒ</span></p>
            </slot>
          </template>
        </AboutMeText>
        <AboutMeCharacter/>
      </div>
    </div>
  </div>
</template>

<style scoped>
/* åŸæœ‰åŸºç¡€å¸ƒå±€æ ·å¼ä¿æŒä¸å˜ */
.container { z-index: 1; width: 100%; height: 100%; overflow-x: hidden !important; overflow-y: hidden !important; }
canvas { z-index: -1; position: fixed; top: -1px; left: -1px; pointer-events: none; overflow: hidden; }
.about-me { max-width: 1380px; margin: 0 auto; width: 90%; }
.about-me-3-2-row { margin-top: 20px; display: grid; grid-template-columns: 3fr 2fr; gap: 20px; }
.about-me-1-1-row { margin-top: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }

/* -------------------- ä¿®æ”¹åçš„è·‘é©¬ç¯æ ¸å¿ƒ -------------------- */
.marquee-card {
  position: relative;
  padding: 3px; /* è¾¹æ¡†ç²—ç»† */
  border-radius: 15px;
  overflow: hidden;
  display: flex;
  background: rgba(0,0,0,0.05); /* è¾¹æ¡†åº•è‰² */
}

/* å¤šè‰²æµå…‰èƒŒæ™¯ */
.marquee-card::before {
  content: '';
  position: absolute;
  width: 250%; /* å¢åŠ å®½åº¦ç¡®ä¿è¦†ç›– */
  height: 250%;
  top: -75%;
  left: -75%;
  /* å¤šè‰²æ¸å˜ï¼šèµ¤æ©™é»„ç»¿é’è“ç´« */
  background: conic-gradient(
    #ff0000, #ff7f00, #ffff00, #00ff00, 
    #00ffff, #0000ff, #8b00ff, #ff0000
  );
  animation: rotate-border 6s linear infinite;
  z-index: 0;
}

/* å†…éƒ¨ç™½è‰²èƒŒæ™¯é®ç½©å±‚ */
.marquee-inner {
  position: relative;
  z-index: 1;
  flex: 1;
  /* å…³é”®ï¼šè¿™é‡Œå¼ºåˆ¶è®¾ä¸ºç™½è‰²ï¼Œæ·±è‰²æ¨¡å¼ä¸‹è‡ªåŠ¨åˆ‡æ¢ */
  background: #ffffff; 
  border-radius: 12px;
  display: flex;
  flex-direction: column;
}

/* æ·±è‰²æ¨¡å¼é€‚é… */
[data-theme='dark'] .marquee-inner {
  background: #1b1c20; /* å¯¹åº”ä½  custom.css ä¸­çš„æš—è‰²èƒŒæ™¯ */
}

/* ç¡®ä¿å†…éƒ¨ç»„ä»¶ä¸è‡ªå¸¦è¾¹æ¡†å’ŒèƒŒæ™¯ï¼Œé˜²æ­¢è§†è§‰é‡å  */
.marquee-inner > * {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  height: 100%;
}

/* æ‚¬åœæ•ˆæœ */
.marquee-card:hover::before {
  animation-duration: 3s; /* æ‚¬åœæ—¶æµå…‰è½¬é€ŸåŠ å¿« */
}

@keyframes rotate-border {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* ç§»åŠ¨ç«¯å¤„ç† */
@media screen and (max-width: 770px) {
  .about-me-3-2-row { display: flex; flex-direction: column; }
}

/* å…¶ä»–åŸæœ‰æ ·å¼... */
.top-disclaimer { width: 100%; margin: 20px 0 10px 0; padding: 12px 20px; background: rgba(213, 55, 55, 0.05); border: 1px dashed rgba(213, 55, 55, 0.4); color: #d53737; font-size: 18px; font-weight: bold; border-radius: 8px; display: flex; align-items: center; gap: 10px; backdrop-filter: blur(4px); }
.about-me-card-title-normal { color: var(--vp-c-text-2); font-size: 13px; margin-bottom: 10px; }
.about-me-card-text-big { color: var(--vp-c-text-1); margin: 10px 0; font-size: 36px; font-weight: 700; line-height: 1.1; }
.about-me-card-text-color { background: var(--vp-bg-home-hero-name, linear-gradient(315deg, var(--vp-c-purple-1) 10%, var(--vp-c-brand-2) 75%, var(--vp-c-brand-2) 100%)); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; filter: drop-shadow(0 0 8px rgba(100, 190, 190, 0.3)); font-weight: 800; transition: all 0.3s ease !important; }
</style>

<script setup lang="ts">
/* Script å†…å®¹ä¿æŒä¸å˜ï¼ŒåŒä¸Šä¸€ä¸ªå›ç­” */
import { ref, onMounted, onUnmounted } from 'vue'
import AboutMe from "./AboutMe.vue";
import AboutMeText from "./AboutMeText.vue";
import AboutMeSkill from "./AboutMeSkill.vue";
import AboutMeCharacter from "./AboutMeCharacter.vue";
import AboutMeLife from "./AboutMeLife.vue";
// ... (åé¢é€»è¾‘çœç•¥ï¼Œä¿æŒåŸæœ‰ canvas ç»˜å›¾é€»è¾‘å³å¯)
</script>
