/* =================================================/
/* 1. 全局变量定义 (Root & Dark) */
/* =================================================/ */
:root {
  /* 跑马灯线条颜色 - 浅色模式 */
  --beam-color-1: #00f2ff; /* 电光蓝 */
  --beam-color-2: #7000ff; /* 极光紫 */
  
  /* 卡片背景色 - 浅色模式 */
  --card-bg: rgba(255, 255, 255, 0.7);
  --card-hover-bg: rgba(255, 255, 255, 0.95);
}

[data-theme="dark"] {
  /* 跑马灯线条颜色 - 深色模式 (适配闪电座右铭) */
  --beam-color-1: #ffcc00; /* 闪电金 */
  --beam-color-2: #00d4ff; /* 电光蓝 */
  
  /* 卡片背景色 - 深色模式 */
  --card-bg: rgba(20, 20, 25, 0.8);
  --card-hover-bg: rgba(30, 30, 35, 0.95);
}

/* =================================================/
/* 2. 基础容器：强制透明化 */
/* =================================================/ */
.vp-card, .custom-container, .vp-doc .custom-container {
  position: relative !important;
  z-index: 1 !important;
  overflow: hidden !important; 
  background: transparent !important; 
  border: none !important; 
  border-radius: 12px;
  transition: all 0.3s ease;
  animation: card-breathing 4s ease-in-out infinite !important;
}

/* =================================================/
/* 3. 跑马灯核心 (引用变量) */
/* =================================================/ */
.vp-card::before, .custom-container::before, .vp-doc .custom-container::before {
  content: '';
  position: absolute;
  width: 400%; 
  height: 400%;
  top: -150%;
  left: -150%;
  z-index: -2 !important;
  
  /* 使用 var() 引用上面定义的颜色变量 */
  background: conic-gradient(
    from 0deg,
    transparent 0%,
    var(--beam-color-1) 10%, 
    var(--beam-color-2) 20%, 
    transparent 30%,
    transparent 100%
  ) !important;
  
  animation: border-beam-rotate 4s linear infinite !important;
}

/* =================================================/
/* 4. 玻璃感遮罩层 (引用变量) */
/* =================================================/ */
.vp-card::after, .custom-container::after, .vp-doc .custom-container::after {
  content: '';
  position: absolute;
  inset: 2px; 
  z-index: -1 !important;
  
  background: var(--card-bg) !important; 
  backdrop-filter: blur(12px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(12px) saturate(180%) !important;
  border-radius: 10px;
}

/* =================================================/
/* 5. 交错感与交互 (保持不变) */
/* =================================================/ */
.vp-card:nth-child(3n+2), .custom-container:nth-child(3n+2) { animation-delay: 1s !important; }
.vp-card:nth-child(3n+2)::before, .custom-container:nth-child(3n+2)::before { animation-delay: 1s !important; }

.vp-card:nth-child(3n+3), .custom-container:nth-child(3n+3) { animation-delay: 2s !important; }
.vp-card:nth-child(3n+3)::before, .custom-container:nth-child(3n+3)::before { animation-delay: 2s !important; }

.vp-card:hover, .custom-container:hover, .vp-doc .custom-container:hover {
  animation-play-state: paused !important; 
  transform: translateY(-19px) !important; 
  z-index: 10 !important; 
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2), inset 0 0 10px rgba(0, 242, 255, 0.1) !important;
}

.vp-card:hover::after, .custom-container:hover::after {
  background: var(--card-hover-bg) !important;
}

/* =================================================/
/* 6. 动画定义 */
/* =================================================/ */
@keyframes border-beam-rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes card-breathing {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}
