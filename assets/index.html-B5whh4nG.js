import{_ as s,c as i,a,o as n}from"./app-DMcXO7hu.js";const t={};function l(r,e){return n(),i("div",null,[...e[0]||(e[0]=[a(`<h2 id="创建sftp用户" tabindex="-1"><a class="header-anchor" href="#创建sftp用户"><span>创建SFTP用户</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>useradd -m -s /sbin/nologin tftp</span></span>
<span class="line"><span>passwd tftp</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="修改主目录权限" tabindex="-1"><a class="header-anchor" href="#修改主目录权限"><span>修改主目录权限</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>chown root:tftp /home/tftp</span></span>
<span class="line"><span>chmod 755 /home/tftp</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置sftp" tabindex="-1"><a class="header-anchor" href="#配置sftp"><span>配置SFTP</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>vim /etc/ssh/sshd_config</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将以下内容</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>Subsystem       sftp    /usr/libexec/openssh/sftp-server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>替换为</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>Subsystem       sftp    internal-sftp</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>并在文件末尾适当位置添加</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>Match User sftpuser</span></span>
<span class="line"><span>    ForceCommand internal-sftp</span></span>
<span class="line"><span>    ChrootDirectory /home/tftp</span></span>
<span class="line"><span>    X11Forwarding no</span></span>
<span class="line"><span>    AllowTcpForwarding no</span></span>
<span class="line"><span>    PermitTunnel no</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="重启服务" tabindex="-1"><a class="header-anchor" href="#重启服务"><span>重启服务</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>systemctl restart sshd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,14)])])}const h=s(t,[["render",l]]),c=JSON.parse('{"path":"/os/linux/rf5tx57b/","title":"配置TFTP","lang":"zh-CN","frontmatter":{"title":"配置TFTP","createTime":"2025/09/11 13:11:28","permalink":"/os/linux/rf5tx57b/","description":"创建SFTP用户 修改主目录权限 配置SFTP 将以下内容 替换为 并在文件末尾适当位置添加 重启服务","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"配置TFTP\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-03-26T06:08:22.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"http://git.x-echo.net/os/linux/rf5tx57b/"}],["meta",{"property":"og:site_name","content":"谈呀"}],["meta",{"property":"og:title","content":"配置TFTP"}],["meta",{"property":"og:description","content":"创建SFTP用户 修改主目录权限 配置SFTP 将以下内容 替换为 并在文件末尾适当位置添加 重启服务"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-26T06:08:22.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-26T06:08:22.000Z"}]]},"readingTime":{"minutes":0.3,"words":91},"git":{"createdTime":1742969302000,"updatedTime":1742969302000,"contributors":[{"name":"wyutan","username":"wyutan","email":"90786339+wyutan@users.noreply.github.com","commits":1,"avatar":"https://avatars.githubusercontent.com/wyutan?v=4","url":"https://github.com/wyutan"}],"changelog":[{"hash":"137bb03c6730d080e1684df1d0480374b59065d6","time":1742969302000,"email":"90786339+wyutan@users.noreply.github.com","author":"wyutan","message":"Create 5.配置TFTP.md"}]},"autoDesc":true,"filePathRelative":"os/linux/常用/5.配置TFTP.md","headers":[]}');export{h as comp,c as data};
