import{_ as e,c as n,a as r,o as s}from"./app-k1S79Pg5.js";const a={};function o(l,t){return s(),n("div",null,[...t[0]||(t[0]=[r('<h2 id="选路逻辑小结" tabindex="-1"><a class="header-anchor" href="#选路逻辑小结"><span>选路逻辑小结</span></a></h2><ol><li><strong>数值越小越优</strong>：这一点华为和思科完全一致。</li><li><strong>本地意义</strong>：这些修改仅影响<strong>本台设备</strong>的路由表，不会传递给邻居。</li><li><strong>浮动路由策略</strong>：在华为中做静态备份 OSPF 时，静态优先级必须调小（小于10）；在思科中做静态备份 OSPF 时，静态优先级需调大（大于110）。</li></ol><h2 id="不同厂商常见路由协议管理距离-ad-对照表" tabindex="-1"><a class="header-anchor" href="#不同厂商常见路由协议管理距离-ad-对照表"><span>不同厂商常见路由协议管理距离 (AD) 对照表</span></a></h2><p><mark>管理距离（AD）用于衡量路由信息源的可信度。数值越小，优先级越高</mark></p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>在华为网络操作系统（VRP）中，该参数被称为 <strong>Preference</strong>；在思科（IOS）中被称为 <strong>Administrative Distance (AD)</strong>。</p></div><table><thead><tr><th style="text-align:left;">路由来源</th><th style="text-align:center;">华为优先级 (Preference)</th><th style="text-align:center;">思科管理距离 (AD)</th><th style="text-align:left;">差异备注</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>直连路由 (Direct / Connected)</strong></td><td style="text-align:center;"><strong>0</strong></td><td style="text-align:center;"><strong>0</strong></td><td style="text-align:left;">优先级最高</td></tr><tr><td style="text-align:left;"><strong>OSPF 内部路由 (Internal)</strong></td><td style="text-align:center;"><strong>10</strong></td><td style="text-align:center;"><strong>110</strong></td><td style="text-align:left;">华为中 OSPF 极优</td></tr><tr><td style="text-align:left;"><strong>IS-IS</strong></td><td style="text-align:center;"><strong>15</strong></td><td style="text-align:center;"><strong>115</strong></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><strong>静态路由 (Static Route)</strong></td><td style="text-align:center;"><strong>60</strong></td><td style="text-align:center;"><strong>1</strong></td><td style="text-align:left;"><strong>核心差异点</strong></td></tr><tr><td style="text-align:left;"><strong>RIP / RIPng</strong></td><td style="text-align:center;"><strong>100</strong></td><td style="text-align:center;"><strong>120</strong></td><td style="text-align:left;">-</td></tr><tr><td style="text-align:left;"><strong>OSPF ASE / NSSA (外部路由)</strong></td><td style="text-align:center;"><strong>150</strong></td><td style="text-align:center;"><strong>110</strong></td><td style="text-align:left;">华为对外部路由进行了降级</td></tr><tr><td style="text-align:left;"><strong>外部 BGP (eBGP)</strong></td><td style="text-align:center;"><strong>255</strong></td><td style="text-align:center;"><strong>20</strong></td><td style="text-align:left;">华为 BGP 默认优先级极低</td></tr><tr><td style="text-align:left;"><strong>内部 BGP (iBGP)</strong></td><td style="text-align:center;"><strong>255</strong></td><td style="text-align:center;"><strong>200</strong></td><td style="text-align:left;">华为不区分内部/外部 BGP</td></tr><tr><td style="text-align:left;"><strong>未知 (Unknown)</strong></td><td style="text-align:center;"><strong>255</strong></td><td style="text-align:center;"><strong>255</strong></td><td style="text-align:left;">不可信路由</td></tr></tbody></table><h2 id="路由优先级-preference-ad-调整命令对比" tabindex="-1"><a class="header-anchor" href="#路由优先级-preference-ad-调整命令对比"><span>路由优先级 (Preference / AD) 调整命令对比</span></a></h2><table><thead><tr><th style="text-align:left;">场景</th><th style="text-align:left;">华为 (VRP 平台)</th><th style="text-align:left;">思科 (IOS 平台)</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>静态路由</strong></td><td style="text-align:left;"><code>ip route-static 0.0.0.0 0 1.1.1.1 preference 100</code></td><td style="text-align:left;"><code>ip route 0.0.0.0 0.0.0.0 1.1.1.1 100</code></td></tr><tr><td style="text-align:left;"><strong>OSPF 整体</strong></td><td style="text-align:left;"><code>ospf 1</code> <br> <code>preference 20</code></td><td style="text-align:left;"><code>router ospf 1</code> <br> <code>distance 125</code></td></tr><tr><td style="text-align:left;"><strong>OSPF 外部</strong></td><td style="text-align:left;"><code>ospf 1</code> <br> <code>preference ase 160</code></td><td style="text-align:left;"><code>router ospf 1</code> <br> <code>distance ospf external 150</code></td></tr><tr><td style="text-align:left;"><strong>RIP</strong></td><td style="text-align:left;"><code>rip 1</code> <br> <code>preference 150</code></td><td style="text-align:left;"><code>router rip</code> <br> <code>distance 150</code></td></tr><tr><td style="text-align:left;"><strong>BGP</strong></td><td style="text-align:left;"><code>bgp 100</code> <br> <code>preference 20 200 200</code></td><td style="text-align:left;"><code>router bgp 100</code> <br> <code>distance bgp 20 200 200</code></td></tr></tbody></table><h3 id="高级控制-基于策略调整-对比" tabindex="-1"><a class="header-anchor" href="#高级控制-基于策略调整-对比"><span>高级控制 (基于策略调整) 对比</span></a></h3><table><thead><tr><th style="text-align:left;">厂商</th><th style="text-align:left;">配置逻辑</th><th style="text-align:left;">核心示例代码</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>华为</strong></td><td style="text-align:left;"><strong>Route-Policy 挂载</strong></td><td style="text-align:left;"><code>ospf 1</code> <br> <code>preference route-policy PREF_NAME</code></td></tr><tr><td style="text-align:left;"><strong>思科</strong></td><td style="text-align:left;"><strong>Distance + ACL</strong></td><td style="text-align:left;"><code>router ospf 1</code> <br> <code>distance 50 10.1.1.1 0.0.0.0 10</code></td></tr></tbody></table>',10)])])}const g=e(a,[["render",o]]),i=JSON.parse('{"path":"/network/mcsj79c7/","title":"路由协议对比 | 网络相关","lang":"zh-CN","frontmatter":{"title":"路由协议对比","createTime":"2026/02/22 12:26:31","permalink":"/network/mcsj79c7/","description":"选路逻辑小结 数值越小越优：这一点华为和思科完全一致。 本地意义：这些修改仅影响本台设备的路由表，不会传递给邻居。 浮动路由策略：在华为中做静态备份 OSPF 时，静态优先级必须调小（小于10）；在思科中做静态备份 OSPF 时，静态优先级需调大（大于110）。 不同厂商常见路由协议管理距离 (AD) 对照表 管理距离（AD）用于衡量路由信息源的可信度...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"路由协议对比\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2026-01-23T00:46:15.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"http://git.x-echo.net/network/mcsj79c7/"}],["meta",{"property":"og:site_name","content":"谈呀"}],["meta",{"property":"og:title","content":"路由协议对比"}],["meta",{"property":"og:description","content":"选路逻辑小结 数值越小越优：这一点华为和思科完全一致。 本地意义：这些修改仅影响本台设备的路由表，不会传递给邻居。 浮动路由策略：在华为中做静态备份 OSPF 时，静态优先级必须调小（小于10）；在思科中做静态备份 OSPF 时，静态优先级需调大（大于110）。 不同厂商常见路由协议管理距离 (AD) 对照表 管理距离（AD）用于衡量路由信息源的可信度..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-23T00:46:15.000Z"}],["meta",{"property":"article:modified_time","content":"2026-01-23T00:46:15.000Z"}]]},"readingTime":{"minutes":1.61,"words":482},"git":{"createdTime":1769123205000,"updatedTime":1769129175000,"contributors":[{"name":"wyutan","username":"wyutan","email":"90786339+wyutan@users.noreply.github.com","commits":6,"avatar":"https://avatars.githubusercontent.com/wyutan?v=4","url":"https://github.com/wyutan"}],"changelog":[{"hash":"bfc05a7eda0f108ac0de96ac6af50563fb263722","time":1769129175000,"email":"90786339+wyutan@users.noreply.github.com","author":"tanya","message":"Update 5.路由协议对比.md"},{"hash":"c90d6592ed89525fc4273218b9783a557cff2f56","time":1769128697000,"email":"90786339+wyutan@users.noreply.github.com","author":"tanya","message":"Update 5.路由协议对比.md"},{"hash":"b2afe75505f6ecc5a0153f42d68b248520c16747","time":1769128547000,"email":"90786339+wyutan@users.noreply.github.com","author":"tanya","message":"Update 5.路由协议对比.md"},{"hash":"4fd947ffc03b04381886930b07f8e731ffac3649","time":1769127169000,"email":"90786339+wyutan@users.noreply.github.com","author":"tanya","message":"Update 5.路由协议对比.md"},{"hash":"287786914fc2d47864472b5379fd8510729e6700","time":1769126888000,"email":"90786339+wyutan@users.noreply.github.com","author":"tanya","message":"Update 5.路由协议对比.md"},{"hash":"9f2f9c072c6fbee5373e79ec10f98dc8628a3adb","time":1769123205000,"email":"90786339+wyutan@users.noreply.github.com","author":"tanya","message":"创建 5.路由协议对比.md"}]},"autoDesc":true,"filePathRelative":"network/protocol/5.路由协议对比.md","headers":[]}');export{g as comp,i as data};
